<h2 mat-dialog-title class="fs-5 fw-bold text-primary">{{ dialogTitle }}</h2>

<mat-dialog-content class="dialog-content pt-2">
  <ng-container *ngIf="!isViewMode; else viewTemplate">
    <form [formGroup]="ipForm">
      <div class="d-flex gap-3">
        <mat-form-field appearance="outline" class="flex-grow-1">
          <mat-label class="fs-7">IP Address</mat-label>
          <input matInput formControlName="ip" required />
        </mat-form-field>
        <mat-form-field appearance="outline" class="flex-grow-1">
          <mat-label class="fs-7">Label</mat-label>
          <input matInput formControlName="label" required />
        </mat-form-field>
      </div>
      <mat-form-field appearance="outline" class="w-100">
        <mat-label class="fs-7">Comments</mat-label>
        <textarea matInput formControlName="comment"></textarea>
      </mat-form-field>
    </form>
  </ng-container>

  <ng-template #viewTemplate>
    <div class="px-4 view-details">
      <div class="d-flex">
        <div class="me-4 text-end flex-shrink-0 fs-7 label-div">
          <p>ID</p>
        </div>
        <div class="fs-7 fw-semibold text-break text-wrap">
          <p>{{ data.ipData._id || 'N/A' }}</p>
        </div>
      </div>
      <div class="d-flex">
        <div class="me-4 text-end flex-shrink-0 fs-7 label-div">
          <p>IP Address</p>
        </div>
        <div class="fs-7 fw-semibold text-break text-wrap">
          <p>{{ data.ipData.ip || 'N/A' }}</p>
        </div>
      </div>
      <div class="d-flex">
        <div class="me-4 text-end flex-shrink-0 fs-7 label-div">
          <p>Added By</p>
        </div>
        <div class="fs-7 fw-semibold text-break text-wrap">
          <p>{{ data.ipData.addedByUserName  || 'N/A' }} (<span class="text-primary">{{data.ipData.addedByUserEmail || 'N/A' }}</span>)</p>
        </div>
      </div>
      <div class="d-flex">
        <div class="me-4 text-end flex-shrink-0 fs-7 label-div">
          <p>Created At</p>
        </div>
        <div class="fs-7 fw-semibold text-break text-wrap">
          <p>{{ data.ipData.createdAt | dateFormat }}</p>
        </div>
      </div>
      <div class="d-flex">
        <div class="me-4 text-end flex-shrink-0 fs-7 label-div">
          <p>Updated At</p>
        </div>
        <div class="fs-7 fw-semibold text-break text-wrap">
          <p>{{ data.ipData.updatedAt | dateFormat }}</p>
        </div>
      </div>
      <div class="d-flex">
        <div class="me-4 text-end flex-shrink-0 fs-7 label-div">
          <p>Label</p>
        </div>
        <div class="fs-7 fw-semibold text-break text-wrap">
          <p>{{ data.ipData.label || 'N/A' }}</p>
        </div>
      </div>
      <div class="d-flex">
        <div class="me-4 text-end flex-shrink-0 fs-7 label-div">
          <p>Comment</p>
        </div>
        <div class="fs-7 fw-semibold text-break text-wrap">
          <p>{{ data.ipData.comment || 'N/A' }}</p>
        </div>
      </div>
    </div>
  </ng-template>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()">Cancel</button>
  <button *ngIf="!isViewMode" mat-flat-button color="primary" (click)="onSubmit()" [disabled]="ipForm.invalid">
    {{ isEditMode ? 'Save' : 'Add' }}
  </button>
</mat-dialog-actions>